# ğŸš€ å‘åŒ…è„šæœ¬ä½¿ç”¨æŒ‡å—

Blade AI æä¾›äº†ä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–å‘åŒ…å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ‚¨å®‰å…¨ã€é«˜æ•ˆåœ°å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### âœ… ç‰ˆæœ¬ç®¡ç†
- ğŸ” æ™ºèƒ½ç‰ˆæœ¬å†²çªæ£€æµ‹ (Git tags vs npm registry)
- ğŸ”¢ è‡ªåŠ¨ç‰ˆæœ¬é€’å¢ (major/minor/patch)
- ğŸ·ï¸ çµæ´»çš„æ ‡ç­¾å‰ç¼€é…ç½®

### ğŸ“ Changelog è‡ªåŠ¨ç”Ÿæˆ
- ğŸ“Š åŸºäº Git æäº¤å†å²è‡ªåŠ¨ç”Ÿæˆ
- ğŸ·ï¸ æ™ºèƒ½æäº¤åˆ†ç±» (feat/fix/docs/choreç­‰)
- ğŸ“… è‡ªåŠ¨æ·»åŠ å‘å¸ƒæ—¥æœŸ
- ğŸ“„ æ”¯æŒè‡ªå®šä¹‰ changelog æ¨¡æ¿

### ğŸ›¡ï¸ å®‰å…¨æ£€æŸ¥
- ğŸ“‹ å·¥ä½œç›®å½•çŠ¶æ€æ£€æŸ¥
- ğŸ§ª è‡ªåŠ¨è¿è¡Œæµ‹è¯•å¥—ä»¶
- ğŸ” ä»£ç è´¨é‡æ£€æŸ¥
- ğŸŒ è¿œç¨‹ç‰ˆæœ¬å†²çªæ£€æµ‹

### ğŸ”§ çµæ´»é…ç½®
- âš™ï¸ å¯é…ç½®çš„å‘å¸ƒæµç¨‹
- ğŸš« å¯é€‰çš„æ­¥éª¤è·³è¿‡
- ğŸƒ é¢„æ¼”æ¨¡å¼ (dry-run)
- ğŸ“¬ é€šçŸ¥ç³»ç»Ÿæ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬å‘å¸ƒ
```bash
# å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬ (1.0.0 -> 1.0.1)
npm run release

# å‘å¸ƒæ¬¡ç‰ˆæœ¬ (1.0.0 -> 1.1.0)
npm run release:minor

# å‘å¸ƒä¸»ç‰ˆæœ¬ (1.0.0 -> 2.0.0)  
npm run release:major
```

### é¢„æ¼”æ¨¡å¼
```bash
# é¢„è§ˆå‘å¸ƒè¿‡ç¨‹ï¼Œä¸å®é™…æ‰§è¡Œï¼ˆæ¨èï¼‰
npm run release:dry

# é¢„è§ˆä¸»ç‰ˆæœ¬å‘å¸ƒ
npm run release -- --dry-run --major
```

### è·³è¿‡ç‰¹å®šæ­¥éª¤
```bash
# è·³è¿‡æµ‹è¯•
npm run release -- --skip-tests

# è·³è¿‡æ„å»º
npm run release -- --skip-build

# ç»„åˆä½¿ç”¨
npm run release -- --skip-tests --skip-build --minor
```

## âš™ï¸ é…ç½®æ–‡ä»¶

é¡¹ç›®æ ¹ç›®å½•çš„ `release.config.js` æ–‡ä»¶æ§åˆ¶å‘å¸ƒè¡Œä¸ºï¼š

```javascript
export default {
  // å‘å¸ƒå‰æ£€æŸ¥
  preChecks: {
    checkWorkingDirectory: true,  // æ£€æŸ¥å·¥ä½œç›®å½•
    runTests: true,              // è¿è¡Œæµ‹è¯•
    checkCodeQuality: true,      // æ£€æŸ¥ä»£ç è´¨é‡
    checkVersionConflicts: true, // æ£€æŸ¥ç‰ˆæœ¬å†²çª
  },
  
  // ç‰ˆæœ¬ç®¡ç†
  version: {
    defaultType: 'patch',        // é»˜è®¤å‘å¸ƒç±»å‹
    autoIncrement: true,         // è‡ªåŠ¨é€’å¢ç‰ˆæœ¬
    tagPrefix: 'v',             // æ ‡ç­¾å‰ç¼€
  },
  
  // Changelog é…ç½®
  changelog: {
    generate: true,              // ç”Ÿæˆ changelog
    file: 'CHANGELOG.md',       // æ–‡ä»¶è·¯å¾„
    categories: {               // æäº¤åˆ†ç±»
      feat: 'âœ¨ æ–°åŠŸèƒ½',
      fix: 'ğŸ› é—®é¢˜ä¿®å¤',
      docs: 'ğŸ“ æ–‡æ¡£æ›´æ–°',
      style: 'ğŸ’„ ä»£ç æ ¼å¼',
      refactor: 'â™»ï¸ ä»£ç é‡æ„',
      perf: 'âš¡ æ€§èƒ½ä¼˜åŒ–',
      test: 'âœ… æµ‹è¯•ç›¸å…³',
      chore: 'ğŸ”§ å…¶ä»–æ›´æ”¹',
    },
  },
  
  // æ„å»ºé…ç½®
  build: {
    beforePublish: true,         // å‘å¸ƒå‰æ„å»º
    command: 'npm run build',   // æ„å»ºå‘½ä»¤
  },
  
  // å‘å¸ƒé…ç½®
  publish: {
    npm: true,                   // å‘å¸ƒåˆ° npm
    npmConfig: {
      access: 'public',         // npm è®¿é—®æƒé™
      registry: 'https://registry.npmjs.org/',
    },
    git: true,                   // æ¨é€åˆ° git
    gitConfig: {
      pushTags: true,           // æ¨é€æ ‡ç­¾
      pushBranch: true,         // æ¨é€åˆ†æ”¯
    },
  },
};
```

## ğŸ“ Changelog æ ¼å¼

è„šæœ¬ä¼šæ ¹æ®æäº¤ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆ changelogï¼š

### æäº¤æ ¼å¼
```bash
# æ–°åŠŸèƒ½
git commit -m "feat: æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½"

# é—®é¢˜ä¿®å¤  
git commit -m "fix: ä¿®å¤ç™»å½•é¡µé¢æ ·å¼é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–°APIæ–‡æ¡£"

# å…¶ä»–ç±»å‹
git commit -m "chore: æ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬"
```

### ç”Ÿæˆçš„ Changelog
```markdown
## [1.2.0] - 2024-01-15

### âœ¨ æ–°åŠŸèƒ½

- æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½ (a1b2c3d)
- æ”¯æŒå¤šè¯­è¨€åˆ‡æ¢ (e4f5g6h)

### ğŸ› é—®é¢˜ä¿®å¤

- ä¿®å¤ç™»å½•é¡µé¢æ ·å¼é—®é¢˜ (i7j8k9l)
- è§£å†³æ•°æ®åŠ è½½ç¼“æ…¢é—®é¢˜ (m0n1o2p)

### ğŸ“ æ–‡æ¡£æ›´æ–°

- æ›´æ–°APIæ–‡æ¡£ (q3r4s5t)
- æ·»åŠ éƒ¨ç½²æŒ‡å— (u6v7w8x)

### ğŸ”§ å…¶ä»–æ›´æ”¹

- æ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬ (y9z0a1b)
```

## ğŸ”„ å‘å¸ƒæµç¨‹

è„šæœ¬æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

1. **ğŸ” é¢„å‘å¸ƒæ£€æŸ¥** - ç»¼åˆæ£€æŸ¥é¡¹ç›®åŸºæœ¬ä¿¡æ¯ã€ä¾èµ–å®‰å…¨ã€æ–‡æ¡£ç­‰
2. **ğŸ“‹ æ£€æŸ¥å·¥ä½œç›®å½•** - ç¡®ä¿æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹
3. **ğŸ” æ£€æŸ¥ä»£ç è´¨é‡** - è¿è¡Œ linting å’Œæ ¼å¼æ£€æŸ¥
4. **ğŸ”¢ ç¡®å®šæ–°ç‰ˆæœ¬å·** - æ£€æŸ¥å†²çªå¹¶é€’å¢ç‰ˆæœ¬
5. **ğŸ“ ç”Ÿæˆ Changelog** - åŸºäº Git æäº¤è‡ªåŠ¨ç”Ÿæˆ
6. **ğŸ“¦ æ›´æ–° package.json** - ä¿®æ”¹ç‰ˆæœ¬å·
7. **ï¿½ï¿½ æ„å»ºé¡¹ç›®** - è¿è¡Œæ„å»ºå‘½ä»¤
8. **ğŸ§ª è¿è¡Œæµ‹è¯•** - æ‰§è¡Œæµ‹è¯•å¥—ä»¶
9. **ğŸ“ æäº¤æ›´æ”¹** - æäº¤ç‰ˆæœ¬æ›´æ–°å’Œ changelog
10. **ğŸ·ï¸ åˆ›å»ºæ ‡ç­¾** - åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
11. **ğŸ“¦ å‘å¸ƒåˆ° npm** - æ¨é€åˆ° npm registry
12. **ğŸš€ æ¨é€åˆ° Git** - æ¨é€ä»£ç å’Œæ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

### ç‰ˆæœ¬å†²çªæ£€æµ‹
- æ£€æŸ¥ Git æ ‡ç­¾ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒç‰ˆæœ¬
- æ£€æŸ¥ npm registry ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒç‰ˆæœ¬
- è‡ªåŠ¨é€’å¢åˆ°å®‰å…¨çš„ç‰ˆæœ¬å·

### å·¥ä½œç›®å½•æ£€æŸ¥
- ç¡®ä¿æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹
- é˜²æ­¢æ„å¤–åŒ…å«æœªå®Œæˆçš„ä»£ç 

### é¢„æ¼”æ¨¡å¼
- å®Œæ•´æ¨¡æ‹Ÿå‘å¸ƒè¿‡ç¨‹
- é¢„è§ˆæ‰€æœ‰æ›´æ”¹è€Œä¸å®é™…æ‰§è¡Œ
- å®‰å…¨æµ‹è¯•å‘å¸ƒé…ç½®

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: å‘å¸ƒå¤±è´¥ï¼Œæç¤ºç‰ˆæœ¬å·²å­˜åœ¨**
```bash
# æ£€æŸ¥è¿œç¨‹ç‰ˆæœ¬
npm view your-package-name versions --json

# ä½¿ç”¨é¢„æ¼”æ¨¡å¼æ£€æŸ¥ç‰ˆæœ¬å·
npm run release:dry
```

**Q: å·¥ä½œç›®å½•ä¸å¹²å‡€**
```bash
# æŸ¥çœ‹æœªæäº¤çš„æ›´æ”¹
git status

# æäº¤æ›´æ”¹
git add .
git commit -m "chore: å‘å¸ƒå‰çš„æœ€åæ›´æ”¹"
```

**Q: æµ‹è¯•å¤±è´¥**
```bash
# å•ç‹¬è¿è¡Œæµ‹è¯•
npm test

# æˆ–è·³è¿‡æµ‹è¯•å‘å¸ƒ (ä¸æ¨è)
npm run release -- --skip-tests
```

**Q: æ„å»ºå¤±è´¥**
```bash
# å•ç‹¬è¿è¡Œæ„å»º
npm run build

# æˆ–è·³è¿‡æ„å»ºå‘å¸ƒ
npm run release -- --skip-build
```

### å›æ»šå‘å¸ƒ

å¦‚æœå‘å¸ƒåå‘ç°é—®é¢˜ï¼Œå¯ä»¥ï¼š

```bash
# åˆ é™¤é”™è¯¯çš„æ ‡ç­¾
git tag -d v1.2.0
git push origin :refs/tags/v1.2.0

# ä» npm æ’¤å›åŒ… (24å°æ—¶å†…)
npm unpublish your-package-name@1.2.0
```

## ğŸ“š æœ€ä½³å®è·µ

1. **ğŸ§ª å‘å¸ƒå‰æµ‹è¯•** - å§‹ç»ˆåœ¨å‘å¸ƒå‰è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶
2. **ğŸ“ æ¸…æ™°çš„æäº¤ä¿¡æ¯** - ä½¿ç”¨è¯­ä¹‰åŒ–çš„æäº¤ä¿¡æ¯ä»¥ç”Ÿæˆæ›´å¥½çš„ changelog
3. **ğŸƒ ä½¿ç”¨é¢„æ¼”æ¨¡å¼** - é‡è¦å‘å¸ƒå‰å…ˆè¿è¡Œ dry-run æ¨¡å¼
4. **ğŸ“‹ æ£€æŸ¥ä¾èµ–** - ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½æ˜¯æœ€æ–°ä¸”å…¼å®¹çš„
5. **ğŸ”’ æƒé™ç®¡ç†** - ç¡®ä¿æœ‰æ­£ç¡®çš„ npm å‘å¸ƒæƒé™
6. **ğŸ“š æ–‡æ¡£åŒæ­¥** - å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœæ‚¨æƒ³æ”¹è¿›å‘åŒ…è„šæœ¬ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: æ·»åŠ æƒŠäººçš„åŠŸèƒ½'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

---

ğŸ’¡ **æç¤º**: ä½¿ç”¨ `npm run release:dry` æ¥å®‰å…¨åœ°æµ‹è¯•å‘å¸ƒæµç¨‹ï¼ 