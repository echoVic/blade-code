# Blade é‡æ„å·¥å…·åŒ…ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬å·¥å…·åŒ…æ˜¯ä¸º Blade Monorepo é‡æ„é¡¹ç›®ä¸“é—¨è®¾è®¡çš„ï¼ŒåŒ…å«äº†å¸®åŠ©å›¢é˜Ÿç†è§£å’Œæ‰§è¡Œé‡æ„è®¡åˆ’çš„æ‰€æœ‰å¿…è¦å·¥å…·å’Œæ–‡æ¡£ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
blade/
â”œâ”€â”€ REFACTORING_MASTER_PLAN.md      # è¯¦ç»†çš„é‡æ„æ€»ä½“è§„åˆ’
â”œâ”€â”€ REFACTORING_EXECUTIVE_SUMMARY.md # ç®¡ç†å±‚æ‰§è¡Œæ‘˜è¦
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ refactoring-toolkit.js      # é‡æ„å·¥å…·å‘½ä»¤è¡Œæ¥å£
â”œâ”€â”€ REFACTORING_TOOLKIT_README.md   # æœ¬æ–‡ä»¶
â”œâ”€â”€ config/refactoring/             # é‡æ„é…ç½®æ–‡ä»¶
â”œâ”€â”€ monitoring/reports/             # ç›‘æ§å’ŒæŠ¥å‘Š
â””â”€â”€ docs/refactoring/               # é‡æ„ç›¸å…³æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–é‡æ„é¡¹ç›®

```bash
# ä¸ºé‡æ„å·¥å…·æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/refactoring-toolkit.js

# åˆå§‹åŒ–é‡æ„é¡¹ç›®
node scripts/refactoring-toolkit.js init
```

æ­¤å‘½ä»¤ä¼šåˆ›å»ºå¿…è¦çš„ç›®å½•ç»“æ„å’Œé…ç½®æ–‡ä»¶ã€‚

### 2. è¿è¡Œå¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥é¡¹ç›®å½“å‰çŠ¶æ€
node scripts/refactoring-toolkit.js check
```

### 3. æŸ¥çœ‹é‡æ„è®¡åˆ’

```bash
# æŸ¥çœ‹ç¬¬ä¸€é˜¶æ®µè¯¦ç»†è®¡åˆ’
node scripts/refactoring-toolkit.js plan 1

# å¯é€‰é˜¶æ®µ:
# 1: æ¶æ„é‡æ„ (4å‘¨)
# 2: å®‰å…¨åŠ å›º (3å‘¨)
# 3: æ€§èƒ½ä¼˜åŒ– (4å‘¨)
# 4: æµ‹è¯•ä½“ç³»å»ºè®¾ (3å‘¨)
# 5: æ–‡æ¡£å’Œè¿ç»´ (2å‘¨)
```

## ğŸ“š æ ¸å¿ƒæ–‡æ¡£

### è¯¦ç»†é‡æ„è®¡åˆ’
- **æ–‡ä»¶**: `REFACTORING_MASTER_PLAN.md`
- **å†…å®¹**: å®Œæ•´çš„16å‘¨é‡æ„è·¯çº¿å›¾ï¼ŒåŒ…å«è¯¦ç»†çš„é˜¶æ®µåˆ’åˆ†ã€ä»»åŠ¡åˆ†è§£ã€èµ„æºåˆ†é…å’Œé£é™©ç®¡ç†
- **è¯»è€…**: å¼€å‘å›¢é˜Ÿã€é¡¹ç›®ç»ç†ã€æ¶æ„å¸ˆ

### æ‰§è¡Œæ‘˜è¦
- **æ–‡ä»¶**: `REFACTORING_EXECUTIVE_SUMMARY.md`
- **å†…å®¹**: ä¸ºç®¡ç†å±‚å‡†å¤‡çš„ç®€åŒ–æ‘˜è¦ï¼ŒåŒ…æ‹¬ä»·å€¼ä¸»å¼ ã€é¢„ç®—ä¼°ç®—ã€æŠ•èµ„å›æŠ¥åˆ†æ
- **è¯»è€…**: ç®¡ç†å±‚ã€æŠ•èµ„äººã€ä¸šåŠ¡è´Ÿè´£äºº

## ğŸ› ï¸ é‡æ„å·¥å…·å‘½ä»¤

### å‘½ä»¤æ¦‚è§ˆ

```bash
# æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤
node scripts/refactoring-toolkit.js help

# åˆå§‹åŒ–é¡¹ç›®ç¯å¢ƒ
node scripts/refactoring-toolkit.js init

# é¡¹ç›®å¥åº·æ£€æŸ¥
node scripts/refactoring-toolkit.js check

# ç”Ÿæˆé˜¶æ®µè®¡åˆ’
node scripts/refactoring-toolkit.js plan [1-5]

# æ˜¾ç¤ºé¡¹ç›®æŒ‡æ ‡
node scripts/refactoring-toolkit.js metrics

# è®¾ç½®é‡æ„ç¯å¢ƒ
node scripts/refactoring-toolkit.js setup

# è¿è¡Œå®‰å…¨å®¡è®¡
node scripts/refactoring-toolkit.js audit

# ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š
node scripts/refactoring-toolkit.js report
```

### å¸¸ç”¨å‘½ä»¤è¯¦è§£

#### 1. é¡¹ç›®åˆå§‹åŒ–
```bash
node scripts/refactoring-toolkit.js init
```
- åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
- ç”Ÿæˆé…ç½®æ–‡ä»¶
- åˆå§‹åŒ–é‡Œç¨‹ç¢‘è®°å½•

#### 2. å¥åº·æ£€æŸ¥
```bash
node scripts/refactoring-toolkit.js check
```
- éªŒè¯é¡¹ç›®ç»“æ„å®Œæ•´æ€§
- æ£€æŸ¥å¿…è¦çš„é…ç½®æ–‡ä»¶
- è¯„ä¼°å‡†å¤‡çŠ¶æ€

#### 3. é˜¶æ®µè®¡åˆ’ç”Ÿæˆ
```bash
# æŸ¥çœ‹ç¬¬ä¸€é˜¶æ®µï¼ˆæ¶æ„é‡æ„ï¼‰è®¡åˆ’
node scripts/refactoring-toolkit.js plan 1

# æŸ¥çœ‹ç¬¬äºŒé˜¶æ®µï¼ˆå®‰å…¨åŠ å›ºï¼‰è®¡åˆ’
node scripts/refactoring-toolkit.js plan 2
```

#### 4. å®‰å…¨å®¡è®¡
```bash
node scripts/refactoring-toolkit.js audit
```
- æ˜¾ç¤ºå·²è¯†åˆ«çš„å®‰å…¨é—®é¢˜
- åˆ†ç±»å±•ç¤ºé£é™©ç­‰çº§
- æä¾›ä¿®å¤å»ºè®®

#### 5. æŠ¥å‘Šç”Ÿæˆ
```bash
node scripts/refactoring-toolkit.js report
```
- ç”Ÿæˆ JSON æ ¼å¼çš„è¯¦ç»†æŠ¥å‘Š
- åˆ›å»ºäººç±»å¯è¯»çš„æ–‡æœ¬æŠ¥å‘Š
- å­˜å‚¨åˆ° monitoring/reports/ ç›®å½•

## ğŸ“Š é¡¹ç›®é…ç½®æ–‡ä»¶

åˆå§‹åŒ–åä¼šåˆ›å»ºä»¥ä¸‹é…ç½®æ–‡ä»¶:

```
config/refactoring/
â”œâ”€â”€ project.json     # é¡¹ç›®åŸºæœ¬ä¿¡æ¯å’Œé…ç½®
â”œâ”€â”€ milestones.json  # é‡Œç¨‹ç¢‘å®šä¹‰
â””â”€â”€ .refactoring-env # ç¯å¢ƒå˜é‡æ–‡ä»¶
```

### project.json ç»“æ„
```json
{
  "projectName": "blade-refactoring",
  "version": "1.0.0",
  "startDate": "2025-08-29T00:00:00.000Z",
  "phases": [
    {
      "id": "architecture",
      "name": "æ¶æ„é‡æ„",
      "duration": 4,
      "goals": ["æ‹†åˆ†Agentç±»", "å®ç°ç®¡ç†å™¨åˆ†ç¦»"],
      "keyDeliverables": ["é‡æ„åçš„æ ¸å¿ƒæ¶æ„"]
    }
  ],
  "team": {
    "architect": 1,
    "frontend": 1,
    "backend": 2
  },
  "budget": 630000,
  "status": "initialized"
}
```

## ğŸ”§ å›¢é˜Ÿåä½œæŒ‡å—

### 1. é˜¶æ®µè´Ÿè´£äººåˆ¶

æ¯ä¸ªé‡æ„é˜¶æ®µåº”æŒ‡å®šæ˜ç¡®çš„è´Ÿè´£äºº:
- **é˜¶æ®µ1 (æ¶æ„é‡æ„)**: æ¶æ„å¸ˆ
- **é˜¶æ®µ2 (å®‰å…¨åŠ å›º)**: å®‰å…¨å·¥ç¨‹å¸ˆ
- **é˜¶æ®µ3 (æ€§èƒ½ä¼˜åŒ–)**: åç«¯å·¥ç¨‹å¸ˆ + å‰ç«¯å·¥ç¨‹å¸ˆ
- **é˜¶æ®µ4 (æµ‹è¯•ä½“ç³»)**: QA å·¥ç¨‹å¸ˆ
- **é˜¶æ®µ5 (æ–‡æ¡£è¿ç»´)**: æŠ€æœ¯å†™ä½œè€… + è¿ç»´å·¥ç¨‹å¸ˆ

### 2. æ¯å‘¨æ£€æŸ¥æœºåˆ¶

```bash
# æ¯å‘¨ä¸€è¿è¡Œå¥åº·æ£€æŸ¥
node scripts/refactoring-toolkit.js check

# ç”Ÿæˆå‘¨æŠ¥
node scripts/refactoring-toolkit.js report
```

### 3. é‡Œç¨‹ç¢‘è¿½è¸ª

```bash
# æŸ¥çœ‹å½“å‰é‡Œç¨‹ç¢‘çŠ¶æ€
cat config/refactoring/milestones.json
```

## ğŸš¨ å…³é”®æ³¨æ„äº‹é¡¹

### 1. å‘åå…¼å®¹æ€§

- ä¿æŒæ‰€æœ‰ç°æœ‰ API æ¥å£ä¸å˜
- æ¸è¿›å¼é‡æ„ï¼Œé¿å…ç ´åæ€§å˜æ›´
- å……åˆ†çš„å›å½’æµ‹è¯•è¦†ç›–

### 2. å®‰å…¨ä¼˜å…ˆ

- é«˜é£é™©å®‰å…¨é—®é¢˜å¿…é¡»ä¼˜å…ˆä¿®å¤
- ä»»ä½•æ¶‰åŠå®‰å…¨çš„å˜æ›´éœ€åŒäººå®¡æŸ¥
- å®šæœŸè¿è¡Œå®‰å…¨å®¡è®¡å‘½ä»¤

### 3. æ–‡æ¡£åŒæ­¥

- ä»£ç å˜æ›´æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£
- é‡è¦å†³ç­–éœ€è®°å½•åœ¨æ¡ˆ
- ç”¨æˆ·é¢å‘çš„å˜æ›´éœ€æ›´æ–°ç”¨æˆ·æ–‡æ¡£

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ— æ³•è¿è¡Œå·¥å…·å‘½ä»¤**
A: ç¡®ä¿ Node.js ç‰ˆæœ¬ >= 16ï¼Œå¹¶ä¸ºè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™

```bash
node --version
chmod +x scripts/refactoring-toolkit.js
```

**Q: é¡¹ç›®å¥åº·æ£€æŸ¥å¤±è´¥**
A: æ ¹æ®å¤±è´¥é¡¹ä¿®å¤ç›¸åº”çš„é¡¹ç›®é…ç½®

```bash
node scripts/refactoring-toolkit.js check
# æ ¹æ®è¾“å‡ºä¿®å¤é—®é¢˜
```

**Q: é˜¶æ®µè®¡åˆ’ç”Ÿæˆå¼‚å¸¸**
A: æ£€æŸ¥ phase ç¼–å·æ˜¯å¦æœ‰æ•ˆ (1-5)

```bash
node scripts/refactoring-toolkit.js plan 1  # æ­£ç¡®
node scripts/refactoring-toolkit.js plan 6  # é”™è¯¯
```

## ğŸ“ˆ æœ€ä½³å®è·µ

### 1. æ¯æ—¥å·¥ä½œæµ
```bash
# 1. å¼€å§‹å·¥ä½œå‰æ£€æŸ¥é¡¹ç›®çŠ¶æ€
node scripts/refactoring-toolkit.js check

# 2. å·¥ä½œä¸­æŸ¥çœ‹é˜¶æ®µè®¡åˆ’
node scripts/refactoring-toolkit.js plan 1

# 3. ç»“æŸæ—¶ç”ŸæˆæŠ¥å‘Š
node scripts/refactoring-toolkit.js report
```

### 2. å›¢é˜Ÿæ²Ÿé€š
- æ¯æ—¥ç«™ä¼šæ—¶æŠ¥å‘Š milestone.json è¿›åº¦
- æ¯å‘¨å®šæœŸç”Ÿæˆå¹¶è®¨è®ºæŠ¥å‘Š
- é‡å¤§å˜æ›´å‰è¿è¡Œå®‰å…¨å®¡è®¡

### 3. è´¨é‡ä¿è¯
- æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿è¡Œå®Œæ•´æµ‹è¯•
- å˜æ›´å‰åçš„æ€§èƒ½å¯¹æ¯”
- ç”¨æˆ·ä½“éªŒçš„å›å½’éªŒè¯

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

å¦‚é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·:

1. æ£€æŸ¥ç°æœ‰æ–‡æ¡£æ˜¯å¦æœ‰è§£å†³æ–¹æ¡ˆ
2. åœ¨å›¢é˜Ÿä¼šè®®ä¸­è®¨è®º
3. æäº¤ GitHub issue
4. è”ç³»é¡¹ç›®ç»ç†

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-08-29  
**ä½œè€…**: Claude Architecture Team